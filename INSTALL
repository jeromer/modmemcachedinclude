What is this extension made for ?
=================================

This module may be used with any file that is pushed
in Memcached and meant to be fetched from an SSI tag.

How to compile this extension ?
===============================
Run 

::

        ./autogen.sh
        ./configure
        make
        sudo make install

Depending on your system and your apr_memcache installation path
you may need to specify the following arguments for the configure script:

--with-apxs=/path/to/apache/bin/apxs
--with-apr-memcache=/path/to/apr_memcache/
       
For example here is my configuration

::

        ./configure --with-apxs=/usr/local/apache-2.2.9/bin/apxs \
                    --with-apr-memcache=/opt/local

Where apr_memcache.h is located in :

::

        /opt/local/include/apr_memcache-0/apr_memcache.h

Once everything is compiled, restart Apache

How to test this extension ?
============================
In order to test the extension you have to first compile
the module and install it, once you are done you have to 
launch test/push.php to store some contents in Memcached.
You can configure your Memcached host by editing push.php

After that you may create the following configuration
for Apache : 

::

        LoadModule memcached_include_module modules/mod_memcached_include.so
        <Directory /path/to/mod_memcached_include/tests/>
                AddType text/html .shtml
                AddOutputFilter INCLUDES .shtml
                Options +Includes
                MemcachedHost localhost:11211
                MemcachedSoftMaxConn 10
                MemcachedHardMaxConn 15
                MemcachedTTL 10
        </Directory>

You may also try this one

::

        LoadModule memcached_include_module modules/mod_memcached_include.so
        <Directory /path/to/mod_memcached_include/tests/>
                AddType text/html .shtml
                Options Indexes FollowSymLinks +Includes
                FilterDeclare SSI
                FilterProvider SSI INCLUDES resp=Content-Type $text/html
                FilterChain SSI
                MemcachedHost localhost:11211
                MemcachedSoftMaxConn 10
                MemcachedHardMaxConn 15
                MemcachedTTL 10
        </Directory>

Once the file is stored in Memcached, you can ``test/pull-*.shtml`` files.


Compiling on Debian
===================

In order to compile this module for Debian, you will need the following packages :

- apache2-mpm-prefork
- libapr1-dev
- libaprutil1-dev
- apach2-prefork-dev

::

        sudo apt-get install apache2-mpm-prefork libapr1-dev libaprutil1-dev apache2-prefork-dev libtool
        
..
   Local Variables:
   mode: rst
   fill-column: 79
   End: 
   vim: et syn=rst tw=79